precision mediump float;

uniform samplerCube u_cube_sampler;
varying vec4 v_position;
uniform mat4 view_matrix;

void main() {
    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
    vec4 t = view_matrix * v_position;
    gl_FragColor = textureCube(u_cube_sampler, normalize(t.xyz / t.w));
    //gl_FragColor = textureCube(u_cube_sampler, normalize(v_position.xyz / v_position.w));
}
